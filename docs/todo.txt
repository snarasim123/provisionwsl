
.laxygit
.gcp
.set gcp or aws as default
. powershell setup


. auto download tar files based on profile
    -autocleanup after install
    -remove github keys with teardown
    -rename github keyname to be unique
    https://github.com/microsoft/WSL/issues/4479
    -support xh archives
    -support fedora cloud images
. vbox support/linux support
    -qemu support
.python compile/setup
    -script to switch python version
    -install correct python version for the ansible/galaxy version    
.setup newer version of vim
    check and upgrade vim if versions mismatch
.xwin apps,other window mgrs - xfce4
.remove github ssh key during teardown
.remove sudo and use become
    review 'become' from all tasks and remove unnecessary entries
.clone code from github instead of localcopy
.multiple tags for tasks

*add nvim path for root user - todo review
*fix git config - todo review
.nvim
    -nvim for alpine using release binaries
    -check and uninstall prev nvim if versions mismatch
    -change nvim install dir to variable
.use db to track current installed instances?
.remove empty folder during teardown
.change ssh key name to include distro fullname
.install .kc_funcs and source it
.java other versions
    -script to switch java versions
.add ~/tmp dir to both root and user
https://github.com/geerlingguy/ansible-role-redis
https://github.com/geerlingguy/ansible-role-java




- name: Write lines of text to a file, including a variable value
  copy:
    dest: "{{ ansible_user_dir }}/example.txt"
    content: |
      This is the first line of text.
      This is the second line of text.
      The value of the variable is: {{ custom_variable }}
      This is the third line of text.
    owner: "{{ ansible_user_id }}"
    group: "{{ ansible_user_gid }}"
    mode: '0644'

    curl -L \
  -X DELETE \
  -H "Accept: application/vnd.github+json" \
  -H "Authorization: Bearer <YOUR-TOKEN>" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  https://api.github.com/user/keys/KEY_ID


  curl -L \
  -X POST \
  -H "Accept: application/vnd.github+json" \
  -H "Authorization: Bearer <YOUR-TOKEN>" \
  -H "X-GitHub-Api-Version: 2022-11-28" \
  https://api.github.com/user/keys \
  -d '{"title":"ssh-rsa AAAAB3NzaC1yc2EAAA","key":"2Sg8iYjAxxmI2LvUXpJjkYrMxURPc8r+dB7TJyvv1234"}'

- name: Setup root github ssh keys
uri:
  url: https://api.github.com/user/keys
  method: POST
  body: "{ \"title\":\"{{ root_github_keyname }}\",\"key\":\"{{ root_ssh_publickey.stdout }}\" }"
  body_format: json
  headers:
    Content-Type: application/json
  user: "{{ githubuser }}"
  password: "{{ githubpass }}"
  status_code: [200, 201, 422, 304]
  force_basic_auth: true
tags: 
  - github
  - git